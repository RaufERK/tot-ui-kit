import { jsx as g } from "react/jsx-runtime";
import h, { useCallback as l } from "react";
import "../FormField/FormFieldContext.js";
import "../FormField/components/FormFieldDescription.js";
import "../FormField/components/FormFieldCounter.js";
import "../FormField/components/FormFieldLabel.js";
import "../FormField/components/FormFieldClear.js";
import "../FormField/components/FormFieldTarget.js";
import { F as d } from "../../chunks/FormFieldInput-CO7yZP0Q.js";
import "../FormField/components/FormFieldMaskedInput.js";
import "../FormField/components/FormFieldPostfix.js";
import "../FormField/components/FormFieldPrefix.js";
import "../FormField/components/FormFieldTextarea.js";
import { getCaretPosition as F, setCaretPosition as D } from "../../utils/inputUtils.js";
import { StringUtils as p } from "../../utils/stringUtils.js";
import { AmountConst as f } from "../../consts/AmountConst.js";
const V = h.forwardRef(
  ({ onChange: o, ...n }, c) => {
    const a = l((t, e) => {
      const r = [], s = t.length;
      let m = -1;
      for (let i = 0; i < s; i++)
        p.isDigit(t[i]) ? r.push(t[i]) : p.isDecimalSeparator(t[i]) ? m == -1 ? (r.push(f.DecimalComma), m = r.length - 1) : i > e && (r.push(f.DecimalComma), r[m] = "", m = r.length - 1) : i === 0 && p.isUnaryMinus(t[i]) && r.push("-");
      return r.join("");
    }, []), u = l(
      (t) => {
        const e = F(t.target), r = a(t.target.value, e), s = r.length - t.target.value.length;
        t.target.value = r, D(t.target, e + s), o == null || o(t);
      },
      [a, o]
    );
    return /* @__PURE__ */ g(d, { onChange: u, ...n, ref: c });
  }
);
export {
  V as NumberFieldInput
};
//# sourceMappingURL=NumberFieldInput.js.map
